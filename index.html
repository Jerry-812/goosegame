<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#ff4b9a" />
    <title>芭比消除</title>
    <meta name="description" content="芭比娃娃主题合并消除小游戏：点击可见娃娃进栏，三个相同自动消除，60 秒内通关。" />
    <meta property="og:title" content="芭比消除" />
    <meta property="og:description" content="点击可见娃娃进栏，三个相同自动消除，60 秒内通关。" />
    <meta property="og:image" content="./images/barbie_princess.png" />
    <meta property="og:type" content="website" />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="icon" href="./images/barbie_princess.png" />
  </head>
  <body>
    <main class="app">
      <header class="header">
        <div class="pill">
          <div class="pill-label">得分</div>
          <div class="pill-value" id="score">0</div>
        </div>
        <div class="pill" id="timerPill">
          <div class="pill-label">时间</div>
          <div class="pill-value"><span id="timer">60</span><span class="unit">s</span></div>
        </div>

        <button class="btn" id="shareBtn" type="button">分享</button>
        <button class="btn" id="helpBtn" type="button" aria-label="玩法说明">玩法</button>
        <button class="btn primary" id="restartBtn" type="button">重开</button>
      </header>

      <section class="board-wrap">
        <div class="board" id="board" aria-label="游戏区域">
          <img class="pot" src="./images/pot.png" alt="" />
          <div class="merge-fx" id="mergeFx" hidden></div>
        </div>
      </section>

      <footer class="tray" aria-label="待合成栏">
        <div class="tray-title">
          <div>待合成栏</div>
          <div class="tray-sub"><span id="trayCount">0</span>/7</div>
        </div>
        <div class="tray-slots" id="traySlots"></div>
      </footer>

      <div class="overlay" id="overlay" hidden>
        <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="dialogTitle">
          <div class="dialog-title" id="dialogTitle"></div>
          <div class="dialog-sub" id="dialogSub"></div>
          <div class="dialog-actions">
            <button class="btn primary" id="againBtn" type="button">再来一局</button>
          </div>
        </div>
      </div>

      <div class="overlay" id="help" hidden>
        <div class="dialog" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
          <div class="dialog-title" id="helpTitle">玩法</div>
          <div class="dialog-sub">
            <ul class="help-list">
              <li>只能点击“最上层可见”的娃娃（被遮挡的会半透明且不可点）。</li>
              <li>点击后进入底部待合成栏；同类型累计 3 个会自动消除并加分。</li>
              <li>60 秒内清空所有娃娃获胜；待合成栏放满且无法继续放置则失败。</li>
            </ul>
          </div>
          <div class="dialog-actions">
            <button class="btn primary" id="closeHelpBtn" type="button">开始</button>
          </div>
        </div>
      </div>

      <div class="toast" id="toast" role="status" aria-live="polite" hidden></div>
    </main>

    <script src="./main.js" type="module"></script>
  </body>
</html>
